<style type="text/css">
html, body{width: 100%; height: 100%; padding: 0; margin: 0}
div{position: absolute; padding: 1em; border: 1px solid #000}
#nw{background: #f09; top: 0; left: 0; right: 70%; bottom: 90%}
#selectedpatient{background: #f90; top: 0; left: 30%; right: 30%; bottom: 50%}
#resultpatient{background: #f50; top: 0; left: 65%; right: 0; bottom: 50%}
#patientsdiv{ top: 10%; left: 0; right: 70%;}
#se{background: #090; top: 50%; left: 30%; right: 0;}
</style>

<div id="nw">Search for a patient name<br>
<input type=text id=nib oninput=loadpatients()></input></div>
<div id="selectedpatient">selectedpatient</div>
<div id="resultpatient">resultpatient</div>
<div id="patientsdiv"></div>
<div id="se">test</div>
<script>
function cleanfich() {
	document.getElementById("selectedpatient").innerHTML =""
}
function loadpatients() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("patientsdiv").innerHTML =
      this.responseText;
      cleanfich()
    }
  };
	xhttp.open("POST", "cgi/test.py", true);
	xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	xhttp.send("nib="+document.getElementById("nib").value);
}
function fichpatient(id) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("selectedpatient").innerHTML =
      this.responseText;
    }
  };
	xhttp.open("POST", "cgi/getfich.py", true);
	xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	xhttp.send("idp="+id);
}


function resultpatient(id) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("resultpatient").innerHTML = this.responseText
      loadpatients();
      
    }
  };
	xhttp.open("POST", "cgi/resultpatient.py", true);
	xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	xhttp.send("idp="+id);
}


function deletepatient(id) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("selectedpatient").innerHTML = "deleted"
      loadpatients();
    }
  };
	xhttp.open("POST", "cgi/delpatient.py", true);
	xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	xhttp.send("idp="+id);
}


function modifpatient(id) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("se").innerHTML =
      this.responseText
      loadpatients();
      
    }
  };
	xhttp.open("POST", "cgi/modifpatient.py", true);
	xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	xhttp.send("idp="+id);
}



function newinfo(id) {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("se").innerHTML = this.responseText
      loadpatients();
    }
  };
	xhttp.open("POST", "cgi/newinfo.py", true);
	xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
	xhttp.send("idp="+id);
}

</script>
